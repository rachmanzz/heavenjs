<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Demo</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script src="../dist/heavenjs.js"></script>

</head>
<body>
<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="#">
                <a class="navbar-brand" href="#">heavenJS</a>
            </a>
        </div>
    </div>
</nav>
<div class="container">
    <div class="row">
        <div class="col-md-10 col-md-offset-1">
            <div class="row">
                <div>
                    <h1>heavenJS</h1>
                    <h3>Welcome sir, thanks for using heavenJS.</h3>
                    <p>heavenJS is under construction, but some feature has available. </p>
                </div>
                <div>
                    <h3>Features</h3>
                    <ul>
                        <li>Loop Data (available)</li>
                        <li>Advanced Loop Data (available)</li>
                        <li>Pagination (available next time)</li>
                        <li>sweet-alert (available next time)</li>
                        <li>convert number to word (available next time)</li>
                        <li>and other function will be available on heavenJS</li>
                    </ul>
                </div>
                <div control="webApp">
                    <h3>Implementation</h3>
                    <h4>On Ordered</h4>
                    <ol model="trx">
                        <li>([num[12]+]). ([replace[trxnum](trx#)]) Total: ([total]),Price : ([numberFormat[price]]),Total Price : ([math[total*price](default)]) </li>
                    </ol>
                    <h4>On Table</h4>
                    <table class="table table-bordered">
                        <thead>
                        <tr>
                            <th>#</th>
                            <th>trx id</th>
                            <th>item name</th>
                            <th>total</th>
                            <th>price</th>
                            <th>total price</th>
                            <th>date</th>
                        </tr>
                        </thead>
                        <tbody model="trxItem">
                        <tr>
                            <td>([num++])</td>
                            <td>([replace[trxnum](trx#)])</td>
                            <td>([id])</td>
                            <td>([total])</td>
                            <td>([numberFormat[price]])</td>
                            <td>([math[total*price](default)])</td>
                            <td>([date])</td>
                        </tr>
                        </tbody>
                    </table>
                    <h4>On Table (other method)</h4>
                    <table class="table table-bordered">
                        <thead>
                        <tr>
                            <th>#</th>
                            <th>trx id</th>
                            <th>item name</th>
                            <th>total</th>
                            <th>price</th>
                            <th>total price</th>
                            <th>date</th>
                        </tr>
                        </thead>
                        <tbody model="trxItemTwo">
                        <tr>
                            <td>([num++])</td>
                            <td>([replace[trxnum](trx#)])</td>
                            <td>([id])</td>
                            <td>([total])</td>
                            <td>([numberFormat[price]])</td>
                            <td>([math[total*price](default)])</td>
                            <td>([date])</td>
                        </tr>
                        </tbody>
                        <tfoot push-data="x as itemPrice">
                        <tr>
                            <th colspan="6">Total Price</th>
                            <th>([x:total[number]])</th>
                        </tr>
                        </tfoot>
                    </table>
                    <hr>
                    <div push-to="data.modules.forEach" event-data="change" push-data="s as story{'about':'Cinderella','family':{'daughters':'two'}}">
                        <h2>([s:about]) Story</h2>
                        <p>Once upon a time there lived an unhappy young girl. Her mother was dead and her father had married a widow with ([s:family.daughters]) daughters. Her stepmother didn't like her one little bit. All her kind thoughts and loving touches were for her own daughters. Nothing was too good for them - dresses, shoes, delicious food, soft beds, and every home comfort.</p>
                    </div>
                    <div push-data="s as story2">
                        <h2>([s:about]) Story2</h2>
                        <p>Once upon a time there lived an ([s:isHappy]) young girl. Her mother was dead and her father had married a widow with ([s:family.daughters]) daughters. Her stepmother didn't like her one little bit. All her kind thoughts and loving touches were for her own daughters. Nothing was too good for them - dresses, shoes, delicious food, soft beds, and every home comfort.</p>
                    </div>
                    <div push-data="c as item22">
                        <h1>Math</h1>
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>result</th>
                                    <th>pattern</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td id="nama">([4*5/2-1[number]])</td>
                                    <td>([c:number1])</td>
                                </tr>
                                <tr>
                                    <td>34*21/4+43= ([c:y2*c:y/4+c:x3[number]])</td>
                                    <td>([c:number2])</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>

    var myjson='[{"id":8,"trxnum":"trx#6970-ITEM","total":2,"price":300,"date":"2016-04-21"},' +
            '{"id":9,"trxnum":"trx#6971-ITEM","total":3,"price":310,"date":"2016-04-22"},' +
            '{"id":10,"trxnum":"trx#6972-ITEM","total":1,"price":61000,"date":"2016-04-22"}]';


    var heavenjs= new heavenJS({control:"webApp"});
    heavenjs.parseContent();
    heavenjs.foreach($.parseJSON(myjson),'trx');
    //Advanced method
    heavenjs.foreach($.parseJSON(myjson),'trxItem as myItem');
    heavenjs.model(function (m) {
        m= m.myItem;
        m.data.id=function(x){
            if(x == 8){
                x="pen";
            }
            else if(x == 9){
                x="wool";
            }
            else if(x == 10){
                x="wood";
            }else{
                x='other items';
            }
            return x;
        };
        return m;
    });
    var totalPrice=0;
    heavenjs.foreach($.parseJSON(myjson),'trxItemTwo as Item2').model(function (m) {
        m= m.Item2;
        m.pull=['id','price','total']; // other -> m.pull="id" (get id), m.pull="all" // get all value of myjson
        m.get= function (x) {
            totalPrice=totalPrice+(x.price * x.total);
            if(x.id == 8){
                x="pen 2";
            }
            else if(x.id == 9){
                x="wool 2";
            }
            else if(x.id == 10){
                x="wood 2";
            }else{
                x='other items 2';
            }

            m.put.id=x;
        };
        return m;
    });
    heavenjs.push(function (x) {
        x=x.itemPrice;
        x.data.total=totalPrice;
        return x;
    });
    heavenjs.push(function (m) {
        var story= m.story2;
        story.data = {about:"Cinderella", family:{daughters:2}};
        story.put.isHappy = "unhappy"; // just work for default pattern
        // .put & .data is diferent.
        return story;
    });
    heavenjs.push(function (m) {
        m= m.item22;
        m.data={y:21,y2:34,x3:43};
        m.put.number1="([234*3+1[number]])";
        m.put.number2="([c:y2*c:y/4+c:x3[number]])";
        return m;
    });


</script>
</body>
</html>